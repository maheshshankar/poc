{"version":3,"file":"xslt.min.js","sources":["xslt.js"],"names":["slice","indexOf","item","i","l","this","length","root","factory","define","amd","module","exports","xslt","$xslt","activeXSupported","buildElementString","cleanRootNamespaces","cleanupXmlNodes","collapseEmptyElements","createDomDoc","createXSLTemplate","defaults","docToStr","getAttrVal","getAttributes","getHeader","getHeaderEncoding","getHeaderStandalone","hasXmlHeader","isXml","loadOptions","manualCreateElement","needsHeader","newDocument","prependHeader","regex","strToDoc","stripAllNamespaces","stripDuplicateAttributes","stripHeader","stripNamespacedNamespace","stripNullNamespaces","tryCreateActiveX","xmlHeader","xmlNode","xmlLike","namespaces","str","test","encoding","standalone","replace","match","ref","trim","node","attrName","RegExp","exec","ActiveXObject","window","id","len","objIds","arguments","call","_error","d","apply","async","readyState","res","xml","document","createElement","src","body","appendChild","XMLDocument","removeChild","DOMParser","implementation","createDocument","ref1","ref2","ref3","loadXML","documentElement","parseError","errorCode","Error","load","parseFromString","getElementsByTagName","nodeName","textContent","doc","XMLSerializer","serializeToString","substring","lastIndexOf","excludeFn","all","attrRegex","attrs","innerA","innerB","name","outer","parts","val","inner","closeTag","elStr","opt","attName","ns","uri","excludedNamespaceUris","includeNamespaces","results","push","blacklist","num","nums","isRootNode","namespaceBlacklist","source","rootNamespaces","removeNamespacedNamespace","removeNullNamespace","removeAllNamespaces","removeDupAttrs","removeDupNamespace","element","fullDocument","cleanup","xmlHeaderInOutput","normalizeHeader","preserveEncoding","options","p","xmlStr","xsltStr","outStr","processor","trans","xmlDoc","xslProc","xsltDoc","XSLTProcessor","importStylesheet","transformToDocument","transformToFragment","transformNode","stylesheet","createProcessor","input","transform","output"],"mappings":"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"}