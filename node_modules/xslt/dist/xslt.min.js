/*! xslt v0.7.0+master.0.d540d1829bf5 | (c) 2015 Justin Murray | built on 2015-11-20 */

(function(){var a=[].slice,b=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(a,b){return"function"==typeof define&&null!=define.amd?define([],b):"object"==typeof("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=b():null!=a?a.xslt=b():void 0}(this,function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return y={xmlNode:function(){return/<([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*(\/?)>/i},xmlLike:function(){return/^\s*</},xmlHeader:function(){return/^\s*<\?xml\b[^<]+/i},namespaces:function(){return/\bxmlns(?::([a-z0-9:\-]+))?\s*=\s*"([^"]*)"/gi}},s=function(a){return y.xmlLike().test(a)},r=function(a){return y.xmlHeader().test(a)},v=function(a){return s(a)&&!r(a)},G=function(a,b){var c;return c='<?xml version="1.0" ',null!=a&&(c+='encoding="'+a+'" '),null!=b&&(c+='standalone="'+b+'" '),c+="?>"},x=function(a,b,c){return G(b,c)+a},C=function(a){return null!=a?a.replace(y.xmlHeader(),""):void 0},o=function(a){var b,c;return b=null!=a?a.match(y.xmlHeader()):void 0,(null!=b?b.length:void 0)&&(null!=(c=b[0])&&"function"==typeof c.trim?c.trim():void 0)||null},m=function(a,b){var c;return c=new RegExp("\\b"+b+'\\s*=\\s*"([^"]*)"',"g").exec(a),(null!=c?c.length:void 0)>1&&c[1]||null},p=function(a){return m(o(a),"encoding")},q=function(a){return m(o(a),"standalone")},d="undefined"!=typeof ActiveXObject&&null!==ActiveXObject||"ActiveXObject"in window,F=function(){var b,c,e,f;if(f=1<=arguments.length?a.call(arguments,0):[],!d)return null;for(b=0,e=f.length;e>b;b++){c=f[b];try{return new ActiveXObject(c)}catch(g){}}return null},i=function(){var a;if(a=F.apply(null,["Msxml2.FreeThreadedDOMDocument.6.0","Msxml2.FreeThreadedDOMDocument.3.0","Msxml2.FreeThreadedDOMDocument","Microsoft.XMLDOM","Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"]),null!=a)for(a.async=!1;4!==a.readyState;);return a},j=function(){return F.apply(null,["Msxml2.XSLTemplate.6.0","Msxml2.XSLTemplate"])},u=function(){var a,b;return b=document.createElement("xml"),b.src=G(),document.body.appendChild(b),a=b.XMLDocument,document.body.removeChild(b),a},w=function(){var a,b;return a=null,null==a&&(a=i()),"undefined"!=typeof DOMParser&&null!==DOMParser?a:(null==a&&(a=u()),null==a&&(a=null!=(b=document.implementation)&&"function"==typeof b.createDocument?b.createDocument("","test",null):void 0),a)},z=function(a){var b,c,d,e,f;if("string"!=typeof a||!s(a))return null;if(v(a)&&(a=x(a)),b=w(),null!=b&&"loadXML"in b){if(b.loadXML(a),null==b.documentElement||0!==(null!=(c=b.parseError)?c.errorCode:void 0))throw new Error("loadXML error: "+b.parseError)}else if(null!=b&&"load"in b)b.load(a);else if("undefined"!=typeof DOMParser&&null!==DOMParser&&(b=null!=(d=new DOMParser)&&"function"==typeof d.parseFromString?d.parseFromString(a,"text/xml"):void 0,(null!=b&&"function"==typeof b.getElementsByTagName&&null!=(e=b.getElementsByTagName("parsererror"))?e.length:void 0)>0||"parsererror"===(null!=b&&null!=(f=b.documentElement)?f.nodeName:void 0)))throw new Error("Failed to load document from string:\r\n"+b.documentElement.textContent);return b},l=function(a){var b,c;return null==a?null:(c="string"==typeof a?a:null!=(null!=a?a.xml:void 0)?a.xml:"undefined"!=typeof XMLSerializer&&null!==XMLSerializer?null!=(b=new XMLSerializer)&&"function"==typeof b.serializeToString?b.serializeToString(a):void 0:null,(null!=c&&"function"==typeof c.indexOf?c.indexOf("<transformiix::result"):void 0)>=0&&(c=c.substring(c.indexOf(">")+1,c.lastIndexOf("<"))),c)},n=function(a,b){var c,d,e,f,g,h,i,j,k;for(d=/\s([a-z0-9:\-]+)\s*=\s*("([^"]*)"|'([^']*)')/gi,e={};j=d.exec(a);)c=j[0],h=j[1],i=j[2],f=j[3],g=j[4],k={outer:i,inner:f||g},("function"==typeof b?b(h,k):void 0)||(e[h]=k);return e},e=function(a,b,c){var d,e,f;null==b&&(b={}),null==c&&(c=""),d="<"+a;for(e in b)f=b[e],d+=" "+e+"="+f.outer;return d+=c+">"},f=function(a,c,d,f){var g,h,i,j,k,l,m;h=n(a,function(a,c){var d;return/^xmlns/.test(a)&&(d=c.inner,b.call(f.excludedNamespaceUris,d)>=0)}),k=f.includeNamespaces;for(j in k)l=k[j],b.call(function(){var a;a=[];for(i in h)m=h[i],a.push(m.inner);return a}(),l)<0&&(g="xmlns",j.length&&(g+=":"+j),h[g]={outer:'"'+l+'"',inner:l});return e(c,h,d)},B=function(a,c,d,f){var g;return null==f&&(f=[]),g=n(a,function(a,c){var d;return d=c.inner,b.call(f,d)>=0}),e(c,g,d)},E=function(a){return a.replace(/xmlns\s*=\s*""/gi,"")},A=function(a){return a.replace(y.namespaces(),"")},D=function(a){var b,c,d,e;for(e=[],a=a.replace(/xmlns:NS([0-9]+)=""/gi,function(a,b){return e.push(b),""}),b=0,c=e.length;c>b;b++)d=e[b],a=a.replace(new RegExp("NS"+d+":xmlns:","g"),"xmlns:");return a},g=function(a,b){var c,d;return d=[],c=!0,null!=a?a.replace(new RegExp(y.xmlNode().source,"gi"),function(a,e,g){var h,i,j,k,l,m,o;if(b.removeNamespacedNamespace&&(a=D(a)),b.removeNullNamespace&&(a=E(a)),b.removeAllNamespaces&&(a=A(a)),c)for(c=!1,a=f(a,e,g,b),l=n(a,function(a){return!/^xmlns/.test(a)}),d=function(){var a;a=[];for(j in l)o=l[j],a.push(o.inner);return a}(),k=b.excludedNamespaceUris,h=0,i=k.length;i>h;h++)m=k[h],d.push(m);else(b.removeDupAttrs||b.removeDupNamespace)&&(a=B(a,e,g,d));return a}):void 0},h=function(a){return null!=a?a.replace(/(<([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*)><\/\2>/gi,function(a,b){return b+"/>"}):void 0},k={fullDocument:!1,cleanup:!0,xmlHeaderInOutput:!0,normalizeHeader:!0,encoding:"UTF-8",preserveEncoding:!1,collapseEmptyElements:!0,removeDupNamespace:!0,removeDupAttrs:!0,removeNullNamespace:!0,removeAllNamespaces:!1,removeNamespacedNamespace:!0,includeNamespaces:{},excludedNamespaceUris:[]},t=function(a){var b,c;b={};for(c in k)b[c]=k[c];if(null!=a)for(c in a)b[c]=a[c];return b},c=function(a,b,e){var f,g,h,i,k,m,n,o,q;if(f=t(e),m=z(a),null==m)throw new Error("Failed to load the XML document");if(q=z(b),null==q)throw new Error("Failed to load the XSLT document");return"undefined"!=typeof XSLTProcessor&&null!==XSLTProcessor&&null!=("undefined"!=typeof document&&null!==document&&null!=(i=document.implementation)?i.createDocument:void 0)?(h=new XSLTProcessor,h.importStylesheet(q),k=f.fullDocument?h.transformToDocument(m):h.transformToFragment(m,document)):"transformNode"in m?k=m.transformNode(q):d&&(o=j(),o.stylesheet=q,n=o.createProcessor(),n.input=m,n.transform(),k=n.output),g=l(k),f.preserveEncoding&&(f.encoding=p(g)||p(a)||f.encoding),f.cleanup&&(g=c.cleanup(g,f)),g},c.cleanup=function(a,b){var c,d;return c=t(b),c.cleanup?(c.preserveEncoding&&(c.encoding=p(a)||c.encoding),d=q(a),(c.normalizeHeader||!c.xmlHeaderInOutput)&&(a=C(a)),c.xmlHeaderInOutput&&v(a)&&(a=x(a,c.encoding,d)),a=g(a,c),c.collapseEmptyElements&&(a=h(a)),a):void 0},c})}).call(this);
//# sourceMappingURL=xslt.min.js.map